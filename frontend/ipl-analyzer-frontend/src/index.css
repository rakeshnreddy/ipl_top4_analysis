:root {
  /* Default Theme: "default-orange-blue" Light Mode */
  /* (Based on the previous "Orange & Blue Glassmorphic Theme - Dark Mode") */

  /* Page Gradient Variables */
  --gradient-page-start-color: #D2691E; /* Chocolate (darker orange) */
  --gradient-page-end-color: #2C3E50;   /* Dark Slate Blue */
  --header-text-color-light: #E0E0E0; /* Header text for this mode */
  --header-text-color: var(--header-text-color-light);

  /* Glassmorphic & General Variables */
  --glass-bg-gradient-start-color: rgba(40, 58, 71, 0.65);  /* Dark Slate Blue, semi-transparent */
  --glass-bg-gradient-end-color: rgba(200, 100, 0, 0.55); /* Dark Orange/Amber, semi-transparent */
  --glass-border-color: rgba(255, 140, 0, 0.3); /* Dark Orange, low opacity for borders */
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.25);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.35);
  --glass-blur-intensity: 10px; 
  --glass-text-color: #EAEAEA;     /* Light Gray */
  --glass-heading-color: #FFA500;  /* Orange for headings on dark glass */
  --glass-border-radius: 14px;

  --primary-color: #FFA500; /* Orange */
  --primary-hover-color: #FFB733; /* Lighter Orange */
  --on-primary-text-color: #1A2A3A; /* Dark text on orange */

  --text-color: var(--glass-text-color);
  --text-muted-color: #9EADBA; /* Lighter Muted Blue-Gray */
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
  
  --button-glass-bg-start-color: rgba(50, 68, 81, 0.5);
  --button-glass-bg-end-color: rgba(210, 110, 10, 0.4);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(26, 42, 58, 0.5); /* Darker Blue, semi-transparent */
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);

  /* Accent & Utility Colors (can be part of the base theme or adjusted per palette) */
  --accent-color-success: #28a745; 
  --accent-color-warning: #b8860b; /* Darker yellow, good for this "darker" light theme */
  --accent-color-warning-text: var(--glass-text-color); /* Ensure contrast */
  --accent-color-info: #17a2b8; 
  
  --disabled-bg-color: #495057;
  --disabled-text-color: #adb5bd;
  --footer-bg-color: #212529;
  --footer-text-color: #ced4da;
  --link-color: #FFB733; 
  --link-hover-color: #FFA500; 

  --loading-message-bg: var(--accent-color-info);
  --loading-message-text: var(--glass-text-color);
  --loading-message-border: #106777;
  --error-message-bg: #58181F;
  --error-message-text: #F8D7DA;
  --error-message-border: #721c24;

  /* Base structural variables (kept from original :root) */
  --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --spacing-unit: 8px;
  --border-radius: var(--glass-border-radius); /* Global radius to use glass radius */
  --max-content-width: 1280px;

  /* Placeholders for variables defined in the previous Orange & Blue Light theme (now to be removed or re-mapped if needed) */
  /* These are effectively superseded by the above "default-orange-blue" light definitions */
  /* --header-text-color-light: #FFFFFF; (already covered by new structure) */
  /* --glass-text-color-light: #1A2A3A; (now --glass-text-color) */
  /* --glass-heading-color-light: #005A9C; (now --glass-heading-color) */
  /* --primary-color-light: #FF6F00; (now --primary-color) */
  /* --primary-hover-color-light: #FF8F00; (now --primary-hover-color) */
  /* --on-primary-text-color-light: #FFFFFF; (now --on-primary-text-color) */

  /* Placeholders for variables defined in the previous Orange & Blue Dark theme (now used for "default-orange-blue" light) */
  --gradient-page-start-color-dark: #D2691E; /* Used for default light */
  --gradient-page-end-color-dark: #2C3E50;   /* Used for default light */
  --header-text-color-dark: #E0E0E0;         /* Used for default light */
  --glass-bg-gradient-start-color-dark: rgba(40, 58, 71, 0.65); /* Used for default light */
  --glass-bg-gradient-end-color-dark: rgba(200, 100, 0, 0.55); /* Used for default light */
  --glass-border-color-dark: rgba(255, 140, 0, 0.3); /* Used for default light */
  --glass-shadow-color-soft-dark: rgba(0, 0, 0, 0.25); /* Used for default light */
  --glass-shadow-color-strong-dark: rgba(0, 0, 0, 0.35); /* Used for default light */
  --glass-text-color-dark: #EAEAEA; /* Used for default light */
  --glass-heading-color-dark: #FFA500; /* Used for default light */
  --primary-color-dark: #FFA500; /* Used for default light */
  --primary-hover-color-dark: #FFB733; /* Used for default light */
  --on-primary-text-color-dark: #1A2A3A; /* Used for default light */
  --text-muted-color-dark: #9EADBA; /* Used for default light */
  --button-glass-bg-start-color-dark: rgba(50, 68, 81, 0.5); /* Used for default light */
  --button-glass-bg-end-color-dark: rgba(210, 110, 10, 0.4); /* Used for default light */
  --button-border-color-dark: var(--glass-border-color-dark); /* Used for default light */
  --input-glass-bg-color-dark: rgba(26, 42, 58, 0.5); /* Used for default light */
  --input-glass-border-color-dark: var(--glass-border-color-dark); /* Used for default light */
}

html[data-base-theme="default-orange-blue"][data-mode="light"] {
  /* This is the default theme, so variables are same as :root */
  --gradient-page-start-color: #D2691E; 
  --gradient-page-end-color: #2C3E50;   
  --header-text-color: #E0E0E0;

  --glass-bg-gradient-start-color: rgba(40, 58, 71, 0.65);  
  --glass-bg-gradient-end-color: rgba(200, 100, 0, 0.55); 
  --glass-border-color: rgba(255, 140, 0, 0.3); 
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.25);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.35);
  --glass-blur-intensity: 10px; 
  --glass-text-color: #EAEAEA;     
  --glass-heading-color: #FFA500;  
  --glass-border-radius: 14px;

  --primary-color: #FFA500; 
  --primary-hover-color: #FFB733; 
  --on-primary-text-color: #1A2A3A; 

  --text-color: var(--glass-text-color);
  --text-muted-color: #9EADBA; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
  
  --button-glass-bg-start-color: rgba(50, 68, 81, 0.5);
  --button-glass-bg-end-color: rgba(210, 110, 10, 0.4);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(26, 42, 58, 0.5); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);

  --accent-color-success: #28a745; 
  --accent-color-warning: #b8860b;
  --accent-color-warning-text: var(--glass-text-color);
  --accent-color-info: #17a2b8; 
  
  --disabled-bg-color: #495057;
  --disabled-text-color: #adb5bd;
  --footer-bg-color: #212529;
  --footer-text-color: #ced4da;
  --link-color: #FFB733; 
  --link-hover-color: #FFA500; 

  --loading-message-bg: var(--accent-color-info);
  --loading-message-text: var(--glass-text-color);
  --loading-message-border: #106777;
  --error-message-bg: #58181F;
  --error-message-text: #F8D7DA;
  --error-message-border: #721c24;
}

html[data-base-theme="default-orange-blue"][data-mode="dark"] {
  --gradient-page-start-color: #5D2A0C;   /* Darkest Orange/Brown */
  --gradient-page-end-color: #0d1117;     /* Very Dark Blue */
  --header-text-color: #F0F0F0; /* Header text for this mode */

  --glass-bg-gradient-start-color: rgba(20, 28, 35, 0.7);  /* Very Dark Slate Blue */
  --glass-bg-gradient-end-color: rgba(130, 65, 0, 0.6); /* Very Dark Orange */
  --glass-border-color: rgba(200, 100, 0, 0.25); /* Muted Dark Orange */
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.35);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.45);
  /* --glass-blur-intensity: 10px; (can inherit or be redefined) */
  --glass-text-color: #F5F5F5;     /* Lighter Gray */
  --glass-heading-color: #FFB74D;  /* Brighter Orange */
  /* --glass-border-radius: 14px; (can inherit) */

  --primary-color: #FFB74D; /* Brighter Orange */
  --primary-hover-color: #FFC777; 
  --on-primary-text-color: #1A2A3A; 

  --text-color: var(--glass-text-color);
  --text-muted-color: #AEBAC7; 
  /* --background-color: transparent; (already set in :root) */
  /* --surface-color: transparent; (already set in :root) */
  --border-color: var(--glass-border-color); 
  
  --button-glass-bg-start-color: rgba(30, 38, 45, 0.6);
  --button-glass-bg-end-color: rgba(140, 75, 10, 0.5);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(16, 22, 38, 0.6); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);

  --accent-color-success: #39C15D; /* Brighter Green */
  --accent-color-warning: #FFC107; /* Standard Yellow, more visible */
  --accent-color-warning-text: #1A2A3A; /* Darker text for yellow */
  --accent-color-info: #3EACCF; /* Brighter Info Blue */
  
  --disabled-bg-color: #3A3A3A;
  --disabled-text-color: #888888;
  --footer-bg-color: #1A1A1A;
  --footer-text-color: #BBBBBB;
  --link-color: #FFC777; 
  --link-hover-color: #FFB74D; 

  --loading-message-bg: var(--accent-color-info);
  --loading-message-text: var(--glass-text-color);
  --loading-message-border: color-mix(in srgb, var(--accent-color-info) 80%, #000);
  --error-message-bg: #7A282F;
  --error-message-text: #FADADD;
  --error-message-border: #A53842;
}

/* Global Resets & Defaults */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family-sans-serif);
  margin: 0;
  padding: 0;
  background-color: var(--background-color); 
  color: var(--text-color);
  line-height: 1.65; 
  font-size: 16px; 
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  background-image: linear-gradient(135deg, var(--gradient-page-start-color), var(--gradient-page-end-color));
  background-size: 200% 200%; 
  animation: pageGradientAnimation 20s ease infinite;
}

@keyframes pageGradientAnimation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color:transparent; /* Ensure #root is transparent */
}

/* App Container */
#app-container {
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3);
  width: 100%;
  flex-grow: 1;
}

/* Header */
header {
  /* background: transparent; /* REMOVED - Header is part of page gradient */
  /* color: var(--header-text-color-light); /* REMOVED - h1 handles its own color */
  padding: calc(var(--spacing-unit) * 2.5) 0; 
  text-align: center;
  border-radius: var(--glass-border-radius); /* UPDATED */
  margin-bottom: calc(var(--spacing-unit) * 4); 
  /* box-shadow: none; /* REMOVED */
  border-bottom: 1px solid var(--glass-border-color); /* ADDED */
}

header h1 {
  margin: 0;
  font-size: 2.25rem; 
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--header-text-color); /* ADDED/UPDATED */
}

/* Sections */
section {
  margin-bottom: calc(var(--spacing-unit) * 4); 
  /* Styles removed as GlassCard is used */
}

section h2 {
  margin-top: 0;
  margin-bottom: calc(var(--spacing-unit) * 2.5); 
  color: var(--glass-heading-color); /* This was already changed as per previous plan */
  border-bottom: 2px solid var(--primary-color); /* CHANGED from 3px to 2px */
  padding-bottom: calc(var(--spacing-unit) * 1.5); 
  font-size: 1.85rem; 
  font-weight: 600;
}

section h3 {
  margin-top: calc(var(--spacing-unit) * 2); 
  margin-bottom: calc(var(--spacing-unit) * 1.5); 
  font-size: 1.5rem; 
  color: var(--glass-text-color); /* Use glass text color */
  font-weight: 600;
}

section h4 {
  margin-top: var(--spacing-unit) * 1.5; 
  margin-bottom: var(--spacing-unit); 
  font-size: 1.2rem; 
  color: var(--text-muted-color); /* Use general muted text */
  font-weight: 600;
}

/* Generic Table Styling for Glassmorphism */
.table-responsive {
  overflow-x: auto;
  width: 100%;
  margin-top: calc(var(--spacing-unit) * 2);
  border-radius: calc(var(--glass-border-radius) - 8px); /* Keep this from previous glass refinement */
  overflow: hidden; 
  background-color: color-mix(in srgb, var(--glass-bg-gradient-start-color) 15%, transparent); /* UPDATED */
  border: 1px solid var(--glass-border-color);
}
table {
  width: 100%;
  border-collapse: separate; 
  border-spacing: 0;
  background-color: transparent;
}

th, td {
  padding: calc(var(--spacing-unit) * 1.5);
  text-align: left;
  vertical-align: middle;
  border: none; 
  border-bottom: 1px solid var(--glass-border-color); 
  color: var(--glass-text-color);
  text-shadow: 1px 1px 2px color-mix(in srgb, var(--glass-text-color) 30%, black); /* ADDED "3D" effect */
}

/* New rule for cells that will display team colors */
td.team-specific-cell {
  background-color: color-mix(in srgb, var(--team-bg-color, transparent) 70%, var(--glass-bg-gradient-start-color) 30%) !important; /* Mix with a base from glass */
  color: var(--team-text-color, var(--glass-text-color)) !important; /* Fallback to default glass text color */
  font-weight: 600; /* Make team names a bit bolder */
}
/* Ensure specificity if other td styles might override background/color */
.table-responsive tbody tr:hover td.team-specific-cell {
    background-color: color-mix(in srgb, var(--team-bg-color, transparent) 60%, var(--primary-color) 40%) !important; /* More pronounced on hover */
}

td:first-child, th:first-child {
    padding-left: calc(var(--spacing-unit) * 2); 
}
td:last-child, th:last-child {
    padding-right: calc(var(--spacing-unit) * 2);
}

th {
  /* background: linear-gradient(135deg, var(--glass-bg-gradient-start-color), var(--glass-bg-gradient-end-color)); /* REMOVED old gradient */
  background-color: color-mix(in srgb, var(--glass-bg-gradient-end-color) 20%, transparent); /* UPDATED */
  font-weight: 700;
  white-space: nowrap;
  border-bottom-width: 2px; 
  border-bottom-color: var(--primary-color); /* Kept as per instruction */
}

tbody tr:nth-child(even) {
  /* background-color: color-mix(in srgb, var(--glass-bg-gradient-start-color) 10%, transparent); /* REMOVED old striping */
  background-color: transparent; /* UPDATED - removing striping */
}

tbody tr:hover {
  /* background-color: color-mix(in srgb, var(--primary-color) 20%, var(--glass-bg-gradient-end-color) 30%); /* REMOVED old hover */
  background-color: color-mix(in srgb, var(--primary-color) 15%, transparent); /* UPDATED */
}

table caption {
  caption-side: top;
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-muted-color);
  padding: var(--spacing-unit);
  text-align: left;
}

/* Form Elements */
.analysis-controls,
.qualification-path-controls,
.simulation-controls {
  display: flex;
  flex-wrap: wrap;
  gap: calc(var(--spacing-unit) * 2.5); 
  margin-bottom: calc(var(--spacing-unit) * 3); 
  padding: calc(var(--spacing-unit) * 2); 
  background: linear-gradient(135deg, var(--glass-bg-gradient-start-color), var(--glass-bg-gradient-end-color));
  border-radius: var(--glass-border-radius);
  border: 1px solid var(--glass-border-color);
  backdrop-filter: blur(var(--glass-blur-intensity));
  -webkit-backdrop-filter: blur(var(--glass-blur-intensity));
  box-shadow: var(--glass-shadow-color-soft) 0 4px 6px;
  align-items: center;
}

.control-group {
  display: flex;
  align-items: center;
  gap: var(--spacing-unit); 
}

.control-group label, fieldset legend {
  font-weight: 600; 
  color: var(--glass-text-color);
  margin-right: calc(var(--spacing-unit) * 0.5); 
  font-size: 0.95em; 
}
fieldset {
    border: none;
    padding: 0;
    margin: 0;
    background: transparent; /* Ensure fieldset itself is transparent */
}
fieldset.control-group { 
    gap: var(--spacing-unit) * 1.5; 
}
fieldset legend {
    padding: 0 0 calc(var(--spacing-unit) * 0.5) 0; 
    margin-bottom: calc(var(--spacing-unit) * 0.5);
}

select,
input[type="text"],
input[type="number"],
textarea {
  padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 1.5); 
  border-radius: calc(var(--glass-border-radius) / 2); 
  border: 1px solid var(--input-glass-border-color);
  background-color: var(--input-glass-bg-color);
  font-size: 1em;
  color: var(--input-glass-text-color);
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease;
  min-width: 180px; 
  backdrop-filter: blur(calc(var(--glass-blur-intensity) / 3));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur-intensity) / 3));
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.075); 
}

select:focus,
input[type="text"]:focus,
input[type="number"]:focus,
textarea:focus {
  border-color: var(--primary-color);
  outline: 0;
  box-shadow: 0 0 0 0.25rem color-mix(in srgb, var(--primary-color) 30%, transparent); 
  background-color: color-mix(in srgb, var(--input-glass-bg-color) 80%, var(--glass-bg-gradient-end-color) 20%); 
}

input[type="radio"],
input[type="checkbox"] {
  margin-right: calc(var(--spacing-unit) * 0.75); 
  accent-color: var(--primary-color); 
  transform: scale(1.1); 
}

.control-group label[for*="-radio"],
.control-group label[for*="-checkbox"] {
  margin-right: var(--spacing-unit); 
  font-weight: normal; 
  color: var(--glass-text-color); /* Ensure these labels also use glass text color */
}

button, .button {
  padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2.5); 
  border: 1px solid var(--button-border-color);
  border-radius: var(--border-radius); 
  background: linear-gradient(135deg, var(--button-glass-bg-start-color), var(--button-glass-bg-end-color));
  color: var(--button-glass-text-color);
  font-size: 1em;
  font-weight: 600; 
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.1s ease;
  text-align: center;
  display: inline-block;
  text-decoration: none;
  white-space: nowrap; 
  backdrop-filter: blur(calc(var(--glass-blur-intensity) / 2));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur-intensity) / 2));
  box-shadow: 0 2px 4px var(--glass-shadow-color-soft);
}
button:hover, .button:hover {
  background: linear-gradient(135deg, color-mix(in srgb, var(--button-glass-bg-start-color) 80%, var(--primary-color) 20%), color-mix(in srgb, var(--button-glass-bg-end-color) 80%, var(--primary-color) 20%));
  border-color: var(--primary-color);
  box-shadow: 0 3px 6px var(--glass-shadow-color-strong);
}
button:active, .button:active {
    transform: translateY(1px);
    box-shadow: 0 1px 2px var(--glass-shadow-color-strong);
}
button:focus-visible, .button:focus-visible { 
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
  box-shadow: 0 0 0 0.25rem color-mix(in srgb, var(--primary-color) 30%, transparent);
}

button:disabled, .button:disabled {
  background: color-mix(in srgb, var(--button-glass-bg-start-color) 40%, #888888 60%); /* More muted */
  border-color: color-mix(in srgb, var(--glass-border-color) 50%, #888888 50%);
  color: color-mix(in srgb, var(--button-glass-text-color) 50%, #777777 50%);
  cursor: not-allowed;
  opacity: 0.6; 
  box-shadow: none;
  transform: none;
  backdrop-filter: none;
}

button.success, .button.success {
  background: linear-gradient(135deg, color-mix(in srgb, var(--button-glass-bg-start-color) 70%, var(--accent-color-success) 30%), color-mix(in srgb, var(--button-glass-bg-end-color) 70%, var(--accent-color-success) 30%));
  border-color: var(--accent-color-success);
  color: var(--on-primary-text-color); /* Assuming success buttons use primary-like text contrast */
}
button.success:hover, .button.success:hover {
  background: linear-gradient(135deg, color-mix(in srgb, var(--button-glass-bg-start-color) 50%, var(--accent-color-success) 50%), color-mix(in srgb, var(--button-glass-bg-end-color) 50%, var(--accent-color-success) 50%));
  border-color: color-mix(in srgb, var(--accent-color-success) 80%, #000000 20%);
}
button.warning, .button.warning {
  background: linear-gradient(135deg, color-mix(in srgb, var(--button-glass-bg-start-color) 70%, var(--accent-color-warning) 30%), color-mix(in srgb, var(--button-glass-bg-end-color) 70%, var(--accent-color-warning) 30%));
  border-color: var(--accent-color-warning);
  color: var(--accent-color-warning-text); 
}
button.warning:hover, .button.warning:hover {
  background: linear-gradient(135deg, color-mix(in srgb, var(--button-glass-bg-start-color) 50%, var(--accent-color-warning) 50%), color-mix(in srgb, var(--button-glass-bg-end-color) 50%, var(--accent-color-warning) 50%));
  border-color: color-mix(in srgb, var(--accent-color-warning) 80%, #000000 20%);
}


/* Utilities */
.text-center { text-align: center; }
.mb-1 { margin-bottom: var(--spacing-unit); } 
.mb-2 { margin-bottom: calc(var(--spacing-unit) * 2); } 
.mb-3 { margin-bottom: calc(var(--spacing-unit) * 3); } 
.mt-1 { margin-top: var(--spacing-unit); }
.mt-2 { margin-top: calc(var(--spacing-unit) * 2); }
.mt-3 { margin-top: calc(var(--spacing-unit) * 3); }
.text-warning { 
  color: var(--accent-color-warning-text); 
  background-color: color-mix(in srgb, var(--accent-color-warning) 70%, transparent); 
  padding: var(--spacing-unit); 
  border-radius: var(--border-radius); 
  border: 1px solid var(--accent-color-warning);
}

/* Current Standings Metadata */
#current-standings .metadata p {
  margin-bottom: calc(var(--spacing-unit) * 0.75); 
  font-size: 0.9em;
  color: var(--text-muted-color);
}

/* Scenario Simulation Specifics */
#scenario-simulation .simulation-message {
  margin-top: var(--spacing-unit);
  padding: calc(var(--spacing-unit) * 1.5); 
  background-color: color-mix(in srgb, var(--accent-color-warning) 70%, transparent); 
  border: 1px solid var(--accent-color-warning); 
  border-radius: var(--border-radius);
  color: var(--accent-color-warning-text); 
  font-weight: 500;
}

#scenario-simulation .simulation-results-container {
  display: flex;
  gap: calc(var(--spacing-unit) * 3); 
  margin-top: calc(var(--spacing-unit) * 2.5); 
  flex-wrap: wrap;
}

#scenario-simulation .match-log-container,
#scenario-simulation .final-standings-container {
  flex: 1;
  min-width: 320px; 
  /* Uses GlassCard, so no specific bg/border/shadow here */
}

#scenario-simulation textarea {
  width: 100%;
  padding: var(--spacing-unit); 
  border-radius: calc(var(--glass-border-radius) / 2);
  border: 1px solid var(--input-glass-border-color); 
  font-family: var(--font-family-monospace);
  font-size: 0.95em; 
  background-color: var(--input-glass-bg-color); 
  color: var(--input-glass-text-color); 
  min-height: 250px; 
  resize: vertical;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.075);
  backdrop-filter: blur(calc(var(--glass-blur-intensity) / 3));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur-intensity) / 3));
}

/* Qualification Path Specifics */
#qualification-path .qualification-path-results p {
  margin-bottom: var(--spacing-unit);
  font-size: 1.05em; 
}
#qualification-path .qualification-path-results strong {
  color: var(--primary-hover-color);
}
#qualification-path .metadata .text-warning { 
    font-size: 0.9em;
    margin-top: var(--spacing-unit);
}

/* Chart Container (OverallProbabilities) */
#overall-probabilities > div > div[style*="flex: 1"] { /* Targets the flex children from OverallProbabilities */
    /* Uses GlassCard, so no specific bg/border/shadow here */
    padding: var(--spacing-unit); /* Keep padding if needed around chart canvas */
}
#overall-probabilities .metadata p {
  margin-bottom: calc(var(--spacing-unit) * 0.75); 
  font-size: 0.9em;
  color: var(--text-muted-color);
}


/* Footer */
footer {
  text-align: center;
  padding: calc(var(--spacing-unit) * 3) 0; 
  margin-top: calc(var(--spacing-unit) * 4); 
  background-color: color-mix(in srgb, var(--glass-text-color) 85%, transparent); /* Darker, themed footer */
  color: var(--gradient-page-start-color); /* Contrasting text */
  border-top: 3px solid var(--primary-color);
}
footer p {
  margin: calc(var(--spacing-unit) * 0.5) 0; 
  font-size: 0.9em;
}

/* ARIA Live Regions - Basic Styling for Visibility */
p[role="status"], p[role="alert"] { 
    padding: calc(var(--spacing-unit) * 1.5);
    margin-top: var(--spacing-unit);
    border-radius: var(--border-radius);
    font-weight: 500;
    backdrop-filter: blur(var(--glass-blur-intensity));
    -webkit-backdrop-filter: blur(var(--glass-blur-intensity));
    border: 1px solid;
}
p[role="status"] { 
    background-color: color-mix(in srgb, var(--accent-color-info) 60%, transparent);
    color: var(--glass-text-color); 
    border-color: var(--accent-color-info); 
}
p[role="alert"] { 
    background-color: color-mix(in srgb, var(--error-message-bg) 60%, var(--glass-bg-gradient-start-color) 30%);
    color: var(--error-message-text); 
    border-color: var(--error-message-border); 
}

/* REMOVED old html[data-theme="light"] and html[data-theme="dark"] blocks */
/* New theme structure using data-base-theme and data-mode follows */

html[data-base-theme="default-orange-blue"][data-mode="light"] {
  /* This is the default theme, so variables are same as :root */
  --gradient-page-start-color: #D2691E; 
  --gradient-page-end-color: #2C3E50;   
  --header-text-color: #E0E0E0;

  --glass-bg-gradient-start-color: rgba(40, 58, 71, 0.65);  
  --glass-bg-gradient-end-color: rgba(200, 100, 0, 0.55); 
  --glass-border-color: rgba(255, 140, 0, 0.3); 
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.25);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.35);
  --glass-blur-intensity: 10px; 
  --glass-text-color: #EAEAEA;     
  --glass-heading-color: #FFA500;  
  --glass-border-radius: 14px;

  --primary-color: #FFA500; 
  --primary-hover-color: #FFB733; 
  --on-primary-text-color: #1A2A3A; 

  --text-color: var(--glass-text-color);
  --text-muted-color: #9EADBA; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
  
  --button-glass-bg-start-color: rgba(50, 68, 81, 0.5);
  --button-glass-bg-end-color: rgba(210, 110, 10, 0.4);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(26, 42, 58, 0.5); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);

  --accent-color-success: #28a745; 
  --accent-color-warning: #b8860b;
  --accent-color-warning-text: var(--glass-text-color);
  --accent-color-info: #17a2b8; 
  
  --disabled-bg-color: #495057;
  --disabled-text-color: #adb5bd;
  --footer-bg-color: #212529;
  --footer-text-color: #ced4da;
  --link-color: #FFB733; 
  --link-hover-color: #FFA500; 

  --loading-message-bg: var(--accent-color-info);
  --loading-message-text: var(--glass-text-color);
  --loading-message-border: #106777;
  --error-message-bg: #58181F;
  --error-message-text: #F8D7DA;
  --error-message-border: #721c24;
}

html[data-base-theme="default-orange-blue"][data-mode="dark"] {
  --gradient-page-start-color: #5D2A0C;   /* Darkest Orange/Brown */
  --gradient-page-end-color: #0d1117;     /* Very Dark Blue */
  --header-text-color: #F0F0F0; /* Header text for this mode */

  --glass-bg-gradient-start-color: rgba(20, 28, 35, 0.7);  /* Very Dark Slate Blue */
  --glass-bg-gradient-end-color: rgba(130, 65, 0, 0.6); /* Very Dark Orange */
  --glass-border-color: rgba(200, 100, 0, 0.25); /* Muted Dark Orange */
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.35);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.45);
  /* --glass-blur-intensity: 10px; (can inherit or be redefined) */
  --glass-text-color: #F5F5F5;     /* Lighter Gray */
  --glass-heading-color: #FFB74D;  /* Brighter Orange */
  /* --glass-border-radius: 14px; (can inherit) */

  --primary-color: #FFB74D; /* Brighter Orange */
  --primary-hover-color: #FFC777; 
  --on-primary-text-color: #1A2A3A; 

  --text-color: var(--glass-text-color);
  --text-muted-color: #AEBAC7; 
  /* --background-color: transparent; (already set in :root) */
  /* --surface-color: transparent; (already set in :root) */
  --border-color: var(--glass-border-color); 
  
  --button-glass-bg-start-color: rgba(30, 38, 45, 0.6);
  --button-glass-bg-end-color: rgba(140, 75, 10, 0.5);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(16, 22, 38, 0.6); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);

  --accent-color-success: #39C15D; /* Brighter Green */
  --accent-color-warning: #FFC107; /* Standard Yellow, more visible */
  --accent-color-warning-text: #1A2A3A; /* Darker text for yellow */
  --accent-color-info: #3EACCF; /* Brighter Info Blue */
  
  --disabled-bg-color: #3A3A3A;
  --disabled-text-color: #888888;
  --footer-bg-color: #1A1A1A;
  --footer-text-color: #BBBBBB;
  --link-color: #FFC777; 
  --link-hover-color: #FFB74D; 

  --loading-message-bg: var(--accent-color-info);
  --loading-message-text: var(--glass-text-color);
  --loading-message-border: color-mix(in srgb, var(--accent-color-info) 80%, #000);
  --error-message-bg: #7A282F;
  --error-message-text: #FADADD;
  --error-message-border: #A53842;
}

/* Specific overrides for dark mode elements */
/* html[data-theme="dark"] header rule for color was removed as h1 now handles its color directly via --header-text-color */

html[data-base-theme="default-orange-blue"][data-mode="dark"] header {
  color: var(--header-text-color); /* This ensures header text color respects the theme */
}
html[data-base-theme="default-orange-blue"][data-mode="dark"] button.success, 
html[data-base-theme="default-orange-blue"][data-mode="dark"] .button.success {
  color: var(--on-primary-text-color); /* Use on-primary from the dark theme definition */
}
html[data-base-theme="default-orange-blue"][data-mode="dark"] select:focus,
html[data-base-theme="default-orange-blue"][data-mode="dark"] input[type="text"]:focus,
html[data-base-theme="default-orange-blue"][data-mode="dark"] input[type="number"]:focus,
html[data-base-theme="default-orange-blue"][data-mode="dark"] textarea:focus {
  box-shadow: 0 0 0 0.25rem color-mix(in srgb, var(--primary-color) 30%, transparent);
}
html[data-base-theme="default-orange-blue"][data-mode="dark"] input[type="radio"],
html[data-base-theme="default-orange-blue"][data-mode="dark"] input[type="checkbox"] {
  accent-color: var(--primary-color); /* Primary color should be the dark theme primary */
}

/* Responsive adjustments */
@media (max-width: 992px) { /* Tablets */
  #app-container {
    padding: var(--spacing-unit) * 1.5; 
  }
  header h1 {
    font-size: 2rem; 
  }
  section h2 {
    font-size: 1.65rem; 
  }
  section h3 {
    font-size: 1.35rem; 
  }

  .analysis-controls,
  .qualification-path-controls,
  .simulation-controls {
    flex-direction: column;
    align-items: stretch; 
  }
  .control-group {
    flex-direction: column;
    align-items: flex-start;
    width: 100%;
  }
  .control-group label, .control-group fieldset legend {
    margin-bottom: calc(var(--spacing-unit) * 0.5); 
  }
  .control-group select, .control-group input[type="radio"] + label, .control-group input[type="checkbox"] + label {
    width: 100%;
  }
  fieldset.control-group label { 
    width: auto; 
    margin-bottom: 0;
  }

  #scenario-simulation .simulation-results-container {
    flex-direction: column;
  }
  #overall-probabilities > div[style*="flex-direction: row"] { 
    flex-direction: column !important; 
  }
  #overall-probabilities > div > div[style*="flex: 1"] {
      margin-bottom: var(--spacing-unit) * 2; 
  }
}

@media (max-width: 576px) { /* Small phones */
  body {
    font-size: 15px; 
  }
  #app-container {
    padding: var(--spacing-unit); 
  }
  header h1 {
    font-size: 1.75rem; 
  }
  section h2 {
    font-size: 1.5rem; 
  }
  section h3 {
    font-size: 1.25rem; 
  }
  th, td {
    padding: var(--spacing-unit); 
  }
  button, .button {
    width: 100%;
    margin-bottom: var(--spacing-unit); 
  }
  .analysis-controls button,
  .qualification-path-controls button,
  .simulation-controls button { 
      width: 100%;
  }

  select, input[type="text"], input[type="number"], textarea {
      font-size: 0.95em; 
  }
}

/* == Oceanic Teal - Light Mode == */
html[data-base-theme="oceanic-teal"][data-mode="light"] {
  --gradient-page-start-color: #A0D2DB; /* Light Teal */
  --gradient-page-end-color: #76C7C0;   /* Soft Cyan */
  --header-text-color-light: #135D66; /* Dark Teal for header text */
  --header-text-color: var(--header-text-color-light);

  --glass-bg-gradient-start-color: rgba(126, 199, 192, 0.5);  /* Light Teal, semi-transparent */
  --glass-bg-gradient-end-color: rgba(170, 210, 219, 0.4); /* Light Aqua, semi-transparent */
  --glass-border-color: rgba(68, 158, 150, 0.4); 
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.08);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.12);
  --glass-text-color: #135D66;    /* Dark Teal */
  --glass-heading-color: #008080; /* Medium Teal */
  
  --primary-color: #008080; /* Medium Teal */
  --primary-hover-color: #00A0A0; 
  --on-primary-text-color: #FFFFFF;

  --text-color: var(--glass-text-color);
  --text-muted-color: #4A7C85; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
   
  --button-glass-bg-start-color: rgba(136, 209, 202, 0.4);
  --button-glass-bg-end-color: rgba(180, 220, 229, 0.3);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(200, 230, 235, 0.4); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);
  /* Inherit --glass-blur-intensity, --glass-border-radius or redefine if needed */
}

/* == Oceanic Teal - Dark Mode == */
html[data-base-theme="oceanic-teal"][data-mode="dark"] {
  --gradient-page-start-color: #1A5276; /* Dark Teal/Blue */
  --gradient-page-end-color: #117864;   /* Deeper Ocean Blue/Green */
  --header-text-color-dark: #E1F5FE; 
  --header-text-color: var(--header-text-color-dark);

  --glass-bg-gradient-start-color: rgba(20, 80, 100, 0.65);  
  --glass-bg-gradient-end-color: rgba(10, 100, 80, 0.55); 
  --glass-border-color: rgba(127, 255, 212, 0.3); /* Aquamarine, low opacity */
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.25);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.35);
  --glass-text-color: #E1F5FE;     /* Light Cyan */
  --glass-heading-color: #76D7C4;  /* Bright Teal/Cyan */
  
  --primary-color: #76D7C4; 
  --primary-hover-color: #A2D9CE; 
  --on-primary-text-color: #135D66; /* Dark Teal on light cyan */

  --text-color: var(--glass-text-color);
  --text-muted-color: #A0BCC5; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
   
  --button-glass-bg-start-color: rgba(30, 90, 110, 0.5);
  --button-glass-bg-end-color: rgba(20, 110, 90, 0.4);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(15, 60, 80, 0.5); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);
}

/* == Ruby Radiance - Light Mode == */
html[data-base-theme="ruby-radiance"][data-mode="light"] {
  --gradient-page-start-color: #FFD1DC; /* Soft Pink */
  --gradient-page-end-color: #E06377;   /* Light Ruby */
  --header-text-color-light: #7A1F3D; /* Dark Berry for header text */
  --header-text-color: var(--header-text-color-light);

  --glass-bg-gradient-start-color: rgba(255, 221, 229, 0.5);  /* Very Light Pink */
  --glass-bg-gradient-end-color: rgba(240, 180, 190, 0.4); /* Pale Ruby */
  --glass-border-color: rgba(224, 99, 119, 0.4); 
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.08);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.12);
  --glass-text-color: #7A1F3D;    /* Dark Berry/Maroon */
  --glass-heading-color: #C32B47; /* Medium Ruby Red */
  
  --primary-color: #C32B47; /* Medium Ruby Red */
  --primary-hover-color: #D74E64; 
  --on-primary-text-color: #FFFFFF;

  --text-color: var(--glass-text-color);
  --text-muted-color: #8F5B6C; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
   
  --button-glass-bg-start-color: rgba(255, 231, 239, 0.4);
  --button-glass-bg-end-color: rgba(250, 190, 200, 0.3);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(255, 240, 245, 0.4); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);
}

/* == Ruby Radiance - Dark Mode == */
html[data-base-theme="ruby-radiance"][data-mode="dark"] {
  --gradient-page-start-color: #6A0D27; /* Deep Ruby/Wine */
  --gradient-page-end-color: #4B000F;   /* Darkest Berry */
  --header-text-color-dark: #FFDDE5; 
  --header-text-color: var(--header-text-color-dark);

  --glass-bg-gradient-start-color: rgba(100, 10, 30, 0.65);  
  --glass-bg-gradient-end-color: rgba(70, 0, 10, 0.55); 
  --glass-border-color: rgba(255, 105, 180, 0.3); /* Hot Pink, low opacity */
  --glass-shadow-color-soft: rgba(0, 0, 0, 0.25);
  --glass-shadow-color-strong: rgba(0, 0, 0, 0.35);
  --glass-text-color: #FFDDE5;     /* Light Pink */
  --glass-heading-color: #F4718D;  /* Bright Ruby/Magenta */
  
  --primary-color: #F4718D; 
  --primary-hover-color: #F8A0B3; 
  --on-primary-text-color: #4B000F; /* Dark Berry on light pink/magenta */

  --text-color: var(--glass-text-color);
  --text-muted-color: #C7A7B2; 
  --background-color: transparent; 
  --surface-color: transparent;    
  --border-color: var(--glass-border-color); 
   
  --button-glass-bg-start-color: rgba(110, 20, 40, 0.5);
  --button-glass-bg-end-color: rgba(80, 10, 20, 0.4);
  --button-glass-text-color: var(--glass-text-color);
  --button-border-color: var(--glass-border-color);

  --input-glass-bg-color: rgba(90, 0, 30, 0.5); 
  --input-glass-text-color: var(--glass-text-color);
  --input-glass-border-color: var(--glass-border-color);
}

[end of frontend/ipl-analyzer-frontend/src/index.css]
